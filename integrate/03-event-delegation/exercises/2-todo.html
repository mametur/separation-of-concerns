<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset='utf-8'>
  <title>Todo</title>

  <script id='handlers'>
    'use strict';

    const deleteTodoHandler = (event) => {
      debugger;
      const target = event.target;
      if (target.nodeName === 'BUTTON' && target.outerText === 'X') {
        const liToRemove = target.parentElement.remove();
      }
    };

    const addTodoHandler = (event) => {
      debugger;

      const newLi = document.createElement('li');
      const newButton = document.createElement('button');
      newButton.innerHTML = 'X';
      newLi.appendChild(newButton);
      const newInput = document.createElement('input');
      newLi.appendChild(newInput);

      if (event.target.id !== 'add-todo-button') {
        return;
      }


      const selectLastChild = event.currentTarget.lastElementChild;
      // insert new list before last child
      event.currentTarget.insertBefore(newLi, selectLastChild);
    };
  </script>
</head>

<body>

  <main id='user-interface'>
    <ul id='list'>
      <li><button>X</button><input value='start coding' /></li>
      <li><button>X</button><input value='stop coding' /></li>
      <li><button id='add-todo-button'>+</button></li>
    </ul>
  </main>

  <script id=' listeners'>
    document.getElementById('list')
      .addEventListener('click', addTodoHandler);

    document.getElementById('list')
      .addEventListener('click', deleteTodoHandler);
  </script>
</body>

</html>